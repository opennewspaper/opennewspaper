{* debug *}

{include file="mod5.js"}  {* js for importing articles *}

{literal}
<style type="text/css">


select, textarea, input, td, body, .defstyle, p, div {
color:black;
font-family:Verdana,Arial,Helvetica,sans-serif;
font-size:10px;
margin:0;
}



/* additional.css Thorsten */


/* additional CSS / Moderationsliste */

body {
	padding-left: 20px;
	background-color: white;
	}


#tx_newspaper_mod3{
	width: 930px;
	padding :10px;
	/*border: 3px solid #C61940;*/
	}


#tx_newspaper_mod3 body, p, a, td {	
	font-family: Arial, Helvetica, sans-serif !important;
	font-size: 11px;
	margin: 0;
	color: black;	
	}

#tx_newspaper_mod3 a:hover {
	color:#C61940;
	}

#tx_newspaper_mod3 h1 {
	font-family: Arial, Helvetica, sans-serif;
	font-size: 13px;
	text-align: left;
	}

#tx_newspaper_mod3 .headline {
	text-transform: uppercase;
	border-bottom: 1px solid #AAA;
	margin-bottom: 20px;
	padding-bottom: 5px;
	width: 920px;
	font-size: 18px;
	font-weight: normal;
	color: #777;
	}
	
/* filterbox */ 
	
#filter {
	position: absolute;
	padding: 10px;
	margin: 30px 0 0 650px;
	width: 250px;	
	background-color: #EFEDE4;
	border: 1px solid #AAA;
	clear: left;
	}

#filter br, br {
	clear: left;
	}
	
#filter input, 
#filter select, 
#filter label,
#filter textarea 
{
	display: block;
	float: left;
	width: 150px; 
	margin-bottom: 5px;
	padding: 2px 0;
	}

#filter label {
	width: 100px; 
	}
	
#filter label.checkbox {
	width: 200px; 
	}

#filter .cb {
	width: 15px; 
	margin-top: 3px;
	}
	
#filter .submit {
	padding:0;
	margin:15px 0 0 100px;
	width:150px;
	}



	
/*  hits */ 
	
#browsePages {
	width: 630px;
	margin: 10px 30px 17px 0;
	text-align: center;
	height:13px;
	}

#browsePages a {	
	text-decoration: none;
	display: block;
	}

#browsePages .left {	
	float: left;
	
	}

#browsePages .right {	
	float: right;
	}

#browsePages a.left {
	text-decoration: none;
	font-size: 10px;
	text-transform: uppercase;	
    background-image: url(arrow_left.gif);
    background-repeat: no-repeat;
    background-position: 0 2px;
    padding: 2px 10px  8px 15px;
	}

#browsePages a:hover.left {
	background-image: url(arrow_left_over.gif);
   	}	

#browsePages a.right {
	text-decoration: none;
	font-size: 10px;
	text-transform: uppercase;	
    background-image: url(arrow_right.gif);
    background-repeat: no-repeat;
    background-position: right 2px;
    padding: 2px 15px  8px 0;
	}

#browsePages a:hover.right {
	background-image: url(arrow_right_over.gif);
   	}

#browsePages span {
	color: #999;
	}
	
/* liste */ 

#modlist {
	clear: left;
	}
	
#modlist .number {
	color:#AAA;
	text-align: center;
	font: bold normal small-caps 15px Arial,sans-serif;
	padding-top: 21px;
	}
	
#modlist h1, #browsePages h1 {
	color:#C61940;
	margin: 5px 0 0 0;
	font: bold normal 15px/15px Arial,sans-serif;
	}
	

#modlist h2 {
	color:grey;
	font: 12px/12px bold normal Arial,sans-serif;
	background: none ;
	text-align:left;
	margin: 0;
	padding:0;
	}	


#modlist a.more {
	text-decoration: none;
	font-size: 10px;
	text-transform: uppercase;	
    background-image: url(arrow_down.gif);
    background-repeat: no-repeat;
    background-position: -2px 3px;
    padding: 2px 8px  8px 13px;
	}


#modlist a.more:hover {
	background-image: url(arrow_down_over.gif);
   	}
	
#tx_newspaper_mod3 .comments p {
	color:grey;
	font-size: 9px;
	margin-bottom: 5px;
	}

#modlist a.kicker {
	text-align: left;
	}	
	
#tx_newspaper_mod3 table {
	table-layout: auto; 
	padding: 0; 
	margin: 0; 
	border-collapse: collapse; 
	width: 630px;
	}

#tx_newspaper_mod3 table.full {
	width: 920px;
	}

#tx_newspaper_mod3 table a {
	text-decoration: none;
	font: normal normal 12px/12px Arial,sans-serif;
	color: #666;	
	float: left;
	margin: 0 25px 0 8px;
	}
	
#tx_newspaper_mod3 tr {
	border-right: 1px solid white;
		}
		
#tx_newspaper_mod3 td {
	vertical-align: top;
	border: 0;
	padding: 5px;
	
	/*border-right: 1px solid white;*/
	}	


#tx_newspaper_mod3 tr:hover.noborder, 
#tx_newspaper_mod3 .wrapper.on {
	background-color: #EFEDE4;
	}
	
.bg1 {
	 
	border-bottom: 2px solid #DDD;
	}
	
.noborder {border: 0;}

.bg2 {
	background-color: #d0d0d0;
		}
		

.kicker {		
	color: #999;
	}
	
.comment_box {
	display: none;
	background-color: white;
	} 

.floatleft {
	float: left;
	margin-right:5px;
	}
#tx_newspaper_mod3 .hide {
	position: absolute;
	display: none;
	z-index: 50;
	height:50px;	
	
	margin: -28px 0 0 55px;
	}

#tx_newspaper_mod3 .hide div{
	border: 1px solid grey;
	padding: 5px;
	background-color: white;
	text-align: center;
	display: inline-block;
	}

#tx_newspaper_mod3 .hide.seitengest {
	margin: -25px 0 0 35px !important;
	
	}
	
#tx_newspaper_mod3 tr:hover .hide{
	position: absolute;
	display: block;
	}

#tx_newspaper_mod3 .wrapper {
	background-color: #FFF;
	display: inline-block;
	margin-top: 0px;
	width: 630px;
	padding: 0;
	border-bottom:2px solid #DDDDDD;
	}
	
#tx_newspaper_mod3 .wrapper:hover {
	background-color: #EFEDE4;
	
	}

#tx_newspaper_mod3 .sg {
	display: block;
	width: 292px;	
	float: left;
	margin: 5px 0;
	padding: 5px 10px;
		}

#tx_newspaper_mod3 .sg.right {
	margin-left: 5px;
	background-color:#E2E2E2;
	
	}

#tx_newspaper_mod3 .sg table{
	margin: -5px -10px !important;
	width: 320px !important;
	}

#tx_newspaper_mod3 .sg img {
	float: left;
	margin-right: 5px;
	}



/* --- artikelimpport --- */

#breadcrumbs {
	margin: 20px 0;
	}

#breadcrumbs a, #breadcrumbs p {
	text-decoration: none;
	font: bold normal 15px/15px Arial,sans-serif;
	color: #999;
	
	float: left;
	}

#breadcrumbs a:hover, #breadcrumbs a.current {
	color:#961D2A;	
	}	
	
#artikelimport {
	padding: 10px;
	margin: 20px 0;
	width: 897px;	
	background-color: #EFEDE4;
	border: 1px solid #AAA;
	display: inline-block;
	}

	
#tx_newspaper_mod3 #artikelimport select {
	display: block;	
	width: 280px; 
	margin: 5px 20px 10px 0;
	padding: 2px 0;
	}

#artikelimport label {
	margin: 3px 10px 0 0; 
	color: #666;
	font-weight: bold;
	}

#artikelimport div {
	width: 285px;
	margin-left: 10px;
	float: left;
	}
	
#artikelimport input {
	width: 250px;
	margin-left: 320px;
	}	

#article_text {
	width: 460px;
	height: 400px;
	border: 1px solid grey;
	overflow-y: scroll;	
	padding: 0 0 0 10px;
	display: none;
	float:left;
	/*padding-right: 172px;*/
	}	

#article_text h1 {
	font-family:Arial,Helvetica,sans-serif;
	font-size:25.85px;
	line-height:28px;
	color:#961D2A;
	font-weight: normal;
	}
	
#article_text h5 {
	font-family:Arial,Helvetica,sans-serif;
	font-size:14.7px;
	line-height:19px;
	}
	
#article_text p {
	font-family:Arial,Helvetica,sans-serif;
	font-size:14.7px;
	line-height:19px;
	}	
	
#article_text p .autor {
	font-size:10.7px;
	font-weight:bold;
	line-height:8px;
	padding:7px 8px 4px;
	text-transform:uppercase;
	float: right;
	}
	
#source_browser {
	float: left;
	width: 430px; /* \todo: use tsconfig value here */
}
</style>
{/literal}


<div id="tx_newspaper_mod3">

	<strong><a href="index.php">{$LABEL.back_to_wizards}</a></strong><br /><br />

	<h1 class="headline">{$LABEL.new_article}</h1>

	{if !$SECTION2 || !$ARTICLETYPE}
{* no section or article type available *}
		<div><br />
		{if !$SECTION2}  
			{$MESSAGE.no_section}<br />
		{/if} 
		{if !$ARTICLETYPE}  
			{$MESSAGE.no_articletype}
		{/if} 
	  	</div>
	{else}
{* new article wizard *}
		
<form action="index.php" name="newarticlewizard">

		{* at least one section and one article type available, so wizard be can used *}
		<script type="text/javascript">{literal}
			function executeSubmit(type) {
			selIdx = document.getElementsByName('tx_newspaper_mod5[section]')[0].selectedIndex;
			if (selIdx == -1) {
				alert("{/literal}{$MESSAGE.no_section_chosen}{literal}");
				return false;
			}
			document.getElementById('tx_newspaper_mod5[controller]').value = type; // set type
			document.forms[0].submit();
		}{/literal}
		</script>

{* chose new typo3 article or import source *}		
		<table class="full">
			<tr class="bg2">
				<td>
					<input id="new" checked="checked" type="radio" name="tx_newspaper_mod5[type]" onclick="clearSourceBrowser()" value="newarticle"> <label for="new">{$LABEL.new_article_typo3}</label>
					{* read registered sources *}
					{foreach from=$IMPORT_SOURCE item=source key=key}
						<input id="soucre_{$key}" type="radio" name="tx_newspaper_mod5[type]" value="{$key}" onclick="changeSource('{$key}', '')"> <label for="soucre_{$key}">{$source->getTitle()}</label> 
					{/foreach}
				</td>
			</tr>
		<table>
		
{* select section and article type *}
		<div id="artikelimport">
			<div>
				<label>{$LABEL.section_base}</label> <br />
				<select id="section1" onchange="changeSectionBox2(this.value)" size="9">
				{section name=i loop=$SECTION1}
		    	  	<option value="{$SECTION1[i]->getUid()}"> {$SECTION1[i]->getAttribute('section_name')}</option>
				{/section}
				</select>
			</div>
			
			<div>
				<label>{$LABEL.section_select}</label> <br />
				<select name="tx_newspaper_mod5[section]" id="section2" style="display:inline;" size="9"></select> {* empty selectbox, is displayed when opening the form *}
				{foreach key=main_section_id item=main_section from=$SECTION2}
					<select id="section2_{$main_section_id}" style="display:none;" size="9" onchange="setDefaultArticletype(this.value)">
					{foreach key=sub_section_id item=sub_section from=$main_section}
						<option value="{$sub_section->getUid()}"> {$sub_section->getAttribute('section_name')}</option>
					{/foreach}
					</select>
				{/foreach}
			</div>

			<div>	
				<label>{$LABEL.articletype}</label> <br />
				<select id="articletype" name="tx_newspaper_mod5[articletype]" size="9">
				{section name=i loop=$ARTICLETYPE}
					<option value="{$ARTICLETYPE[i]->getUid()}"> {$ARTICLETYPE[i]->getAttribute('title')}</option> 
				{/section}
		      	</select>
			</div>	
			
			<br /><br />
			<input type="button" onclick="executeSubmit('new_article_create'); return false;" name="tx_newspaper_mod5[new_article_create]" value="{$LABEL.new_article_button}" class="submit" />
			{if $SHOW_LOREM}
				<br /><br /><input id="lorem" class="submit" type="button" onclick="executeSubmit('new_article_create_dummy'); return false;" name="tx_newspaper_mod5[new_article_create_dummy]" value="Lorem ipsum dummy article" id="tx_newspaper_mod5[new_article_create_dummy]" />
			{/if}
			<input style="display: none; " type="hidden" name="tx_newspaper_mod5[controller]" id="tx_newspaper_mod5[controller]" value="" />
		</div>	
	
{* source browser and article preview *}
		
		{* breadcrumb *}
<!-- \todo
    	<div id="breadcrumbs">
			<a href="#">Top</a><p>&nbsp;>&nbsp;</p>
			<a href="#" class="current">Datum</a><p>&nbsp;>&nbsp;</p>
			<a href="#">Ressort</a><p>&nbsp;>&nbsp;</p>
			<a href="#">Artikel</a>
		</div>		
-->
		<br /><br />
		
		{* here the source browser is inserted via AJAX *}
		<div id="source_browser"></div>	
		
		{* here the text of the selected article is inserted via AJAX *}
		<div id="article_text"></div>
</form>		
		
	{/if}
</div>	





{if $IS_ADMIN}<br /><br /><a href="#" onclick="location.reload(); return false;">Reload</a> {/if}
